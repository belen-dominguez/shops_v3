[{"key":"responsive-menu","code":"// Menu actions\n(function(){\n  var displayHide = \"none\";\n  var displayShow = \"block\";\n  var displayShowFlex = \"flex\";\n  var menuButton = document.getElementById(\"hamburguer-menu\");\n  var navList = document.getElementById(\"nav-list\");\n  var navListChildren = navList.children;\n  var navPopover = document.getElementById(\"popover-menu\");\n  var navPopoverList = document.getElementById(\"nav-popover-list\");\n  var navPopoverListChildren = navPopoverList.children;\n  var popoverSeeMoreCategories = [];\n  var switchButton = document.getElementById(\"mobile-categories-menu-switch\");\n  var listItemArray = document.getElementsByClassName(\"nav-default-list__item\");\n  for (var elementIndex = 0; elementIndex < listItemArray.length; elementIndex++) {\n    listItemArray[elementIndex].style.visibility = \"visible\";\n    listItemArray[elementIndex].style.opacity = \"1\";\n  }\n  function toggle() {\n    var body = document.body;\n    var responsiveMenu = document.getElementById(\"responsive-menu\");\n\n    var visibility = \"visibility\";\n    var transition = \"0.2s\";\n    var opacityHidden = \"0\";\n    var opacityVisible = \"1\";\n    var leftHidden = \"-95vw\";\n    var leftVisible = \"0\";\n    var visibilityHidden = \"hidden\";\n    var visibilityVisible = \"visible\";\n    var bodyBlockScroll = \"body--block-scroll\";\n\n    var responsiveMenuVisibility = window.getComputedStyle(responsiveMenu, null).getPropertyValue(visibility);\n\n    responsiveMenu.style.transition = transition;\n\n    if (responsiveMenuVisibility === visibilityHidden) {\n      responsiveMenu.style.visibility = visibilityVisible;\n      responsiveMenu.style.opacity = opacityVisible;\n      responsiveMenu.style.left = leftVisible;\n      body.classList.add(bodyBlockScroll);\n    } else {\n      responsiveMenu.style.visibility = visibilityHidden;\n      responsiveMenu.style.opacity = opacityHidden;\n      responsiveMenu.style.left = leftHidden;\n      body.classList.remove(bodyBlockScroll);\n    }\n  }\n\n  function seeMoreCategoriesHandler(){\n    var button = document.getElementById('nav-default__see-more');\n    var saleButton = document.getElementById('nav-default__sale-link');\n    var howBuyButton = document.querySelector('.how-buy__button');\n\n    var navListChildren = navList.children;\n\n    var countWidth = 0;\n    var saleButtonWidth = saleButton ? saleButton.clientWidth : 0;\n    var howBuyButtonWidth = howBuyButton ? howBuyButton.clientWidth : 0;\n\n    var max = navList.clientWidth - (saleButtonWidth + button.clientWidth + howBuyButtonWidth);\n\n    var exceptions = [\"nav-default__hamburger-button\", \"nav-default__see-more\", \"nav-default__sale-link\", \"how-buy__button\"];\n\n    for (var i = 0; i < navListChildren.length; i++) {\n      if (exceptions.indexOf(navListChildren[i].id) === -1) {\n        var condition;\n        if (i === (navListChildren.length - exceptions.length) && !exceptions) {\n          condition = (navListChildren[i].clientWidth <= max);\n        } else {\n          condition = (navListChildren[i].clientWidth + countWidth <= max);\n        }\n        if (condition) {\n          countWidth += navListChildren[i].clientWidth;\n        } else {\n          popoverSeeMoreCategories.push(navListChildren[i].textContent);\n          navListChildren[i].setAttribute('style', 'display: none !important');\n        }\n      }\n    }\n    if (!popoverSeeMoreCategories.length) {\n      button.setAttribute('style', 'display: none !important');\n    }\n  }\n\n  // Popover methods\n  function showPopover() {\n    navPopover.style.display = displayShow;\n  }\n\n  function hidePopover() {\n    navPopover.style.display = displayHide;\n  }\n\n  function cleanPopoverData() {\n    var popoverDataNodes = document.getElementsByClassName(\"nav-default-list--horizontal__item\");\n    var arrPopoverData = [].slice.call(popoverDataNodes);\n    arrPopoverData.forEach(function (item) {\n      item.style.display = displayHide;\n    });\n  }\n\n  function setPopoverData(item, popoverSeeMoreCategories) {\n    var popoverCategories = document.querySelectorAll('[data-toggle=\"' + item.dataset.js + '\"]');\n    if (item.id === \"nav-default__see-more\") {\n      for (var e = 0; e < popoverSeeMoreCategories.length; e++) {\n        for (var j = 0; j < navPopoverListChildren.length; j++) {\n          if (navPopoverListChildren[j].textContent.replace(/\\s/g, '').indexOf(popoverSeeMoreCategories[e].replace(/\\s/g, '')) !== -1) {\n            navPopoverListChildren[j].setAttribute('style', 'display: block !important');\n          }\n        }\n      }\n    }\n    if (popoverCategories.length) {\n      popoverCategories[0].style.display = displayShowFlex;\n    }\n  }\n\n  function hoverStylesHandler(item) {\n    for (var i = 0; i < navListChildren.length; i++) {\n      navListChildren[i].style.boxShadow = 'none';\n    }\n    if (item && item.getAttribute('has-childs') !== '[]') {\n      var popoverCategories = document.querySelectorAll('[data-toggle=\"' + item.dataset.js + '\"]');\n      var customTextColor = getComputedStyle(document.querySelector(\"#nav-list > li:nth-child(2) > a > span\")).color;\n      if ((popoverCategories[0] || (item.id === \"nav-default__see-more\") || item.getAttribute('data-js') === 'how-buy__button')) {\n        item.style.boxShadow = 'inset 0 -2px 0 ' + customTextColor;\n      }\n    }\n  }\n\n  function popoverHandler(popoverSeeMoreCategories){\n    var navListArray = [].slice.call(navList.children);\n    navListArray.forEach(function (item) {\n      item.addEventListener(\"mouseover\", (function () {\n        cleanPopoverData();\n        showPopover();\n        setPopoverData(this, popoverSeeMoreCategories);\n        hoverStylesHandler(this);\n      }));\n    }, this);\n    navPopover.addEventListener(\"mouseleave\", (function () {\n      hidePopover();\n      hoverStylesHandler();\n    }));\n  }\n\n  if (switchButton.checked) {\n    toggle();\n  }\n\n  menuButton.addEventListener(\"click\", toggle);\n\n  seeMoreCategoriesHandler();\n  popoverHandler(popoverSeeMoreCategories);\n\n  //Mobile menu actions\n  var categoriesOption = document.querySelectorAll('[data-js=\"categories-toggle\"]');\n\n  // this conditional fix chrome 43 version warning\n  if (categoriesOption && (categoriesOption.length > 0)) {\n    categoriesOption.forEach(function (item) {\n      item.addEventListener(\"click\", toggleSubItems);\n    }, this);\n  }\n\n  function toggleSubItems() {\n    var displayHidden = \"none\";\n    var displayVisible = \"block\";\n    var subItemes = document.querySelectorAll('[data-toggle=\"' + this.id + '\"]');\n    subItemes.forEach(function (item) {\n      item.style.display = (this.checked) ? displayVisible : displayHidden;\n    }, this);\n  };\n\n  var showMenuItems = function() {\n  var menuElement = document.querySelector('.nav-default-header__bounds');\n  var logoElement = document.querySelector('.nav-default-header__title');\n  var navIconsElement = document.querySelector('.nav-default-header__nav-icons');\n  var navlistElement = document.querySelector('.nav-default-list');\n\n    var menuSize = parseInt(window\n      .getComputedStyle(menuElement, null)\n      .getPropertyValue(\"width\").replace('px', ''));\n    var logoSize = parseInt(window\n          .getComputedStyle(logoElement, null)\n          .getPropertyValue(\"width\").replace('px', ''));\n    var navIconsSize = parseInt(window\n          .getComputedStyle(navIconsElement, null)\n          .getPropertyValue(\"width\").replace('px', ''));\n    var navlistSize = parseInt(window\n          .getComputedStyle(navlistElement, null)\n          .getPropertyValue(\"width\").replace('px', ''));\n\n    var dropdown = document.querySelector('.nav-default-list .nav-default-list__item:not(.nav-default__hamburger-button)');\n    if(menuSize < (logoSize + navIconsSize + navlistSize) ) {\n      dropdown.classList.add(\"d-none\");\n    } else {\n      dropdown.classList.remove(\"d-none\");\n    }\n  };\n\n  window.addEventListener(\"resize\", function() {\n    showMenuItems();\n  });\n  showMenuItems();\n\n})();\n","src":"","priority":"10","config":{}},{"key":"search-box","code":"!(function () {\n\n    var setLocationValue = function(url) {\n        window.location = \"/\" + url;\n    };\n\n    var submitElement;\n    submitElement = document.getElementById(\"search-form\");\n    \n    if (submitElement) {\n        submitElement.onsubmit = function (event) {\n            event.preventDefault();\n            var searchInput = document.getElementById(\"search-input\");\n            \n            if (searchInput.value) {\n                setLocationValue(searchInput.value);\n            }\n        };\n    }\n    \n    submitElement = document.getElementById(\"search-form-responsive\");\n    if (submitElement) {\n        submitElement.onsubmit = function (event) {\n            event.preventDefault();\n            var searchInput = document.getElementById(\"search-input-responsive\");\n            \n            if (searchInput.value) {\n                setLocationValue(searchInput.value);\n            }\n        };\n    };\n\n})();\n\n    var navSearchInput = document.getElementsByClassName(\"nav-search-input\")[0];\n    var navSearchButton = document.getElementById(\"nav-search-button\");\n\nif (navSearchButton && navSearchInput) {\n    navSearchButton.addEventListener(\"click\", function (event) {\n        var visibility =  navSearchInput.style.visibility;\n\n        if (!visibility) { \n            event.preventDefault(); \n            navSearchInput.style.visibility = \"visible\"; \n            navSearchInput.style.opacity = \"1\";\n        };\n    });\n}\n","src":"","priority":"10","config":{}}]